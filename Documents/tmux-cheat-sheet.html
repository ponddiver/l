<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="description" content="Comprehensive Linux tmux terminal multiplexer cheat sheet with commands, keybindings, and configuration tips" />
  <title>tmux Linux Cheat Sheet</title>
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      font-family: "Segoe UI", Tahoma, Geneva, Verdana, sans-serif;
      line-height: 1.6;
      color: #333;
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      min-height: 100vh;
      padding: 20px;
    }

    .container {
      max-width: 1200px;
      margin: 0 auto;
      background: #fff;
      border-radius: 8px;
      box-shadow: 0 10px 40px rgba(0, 0, 0, 0.3);
      overflow: hidden;
    }

    header {
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      color: #fff;
      padding: 40px 20px;
      text-align: center;
    }

    header h1 {
      font-size: 3em;
      margin-bottom: 10px;
      font-weight: 700;
    }

    header p {
      font-size: 1.2em;
      opacity: 0.9;
    }

    nav {
      background: #f8f9fa;
      padding: 15px 20px;
      border-bottom: 2px solid #667eea;
      position: sticky;
      top: 0;
      z-index: 100;
    }

    nav ul {
      list-style: none;
      display: flex;
      flex-wrap: wrap;
      gap: 15px;
      justify-content: center;
    }

    nav a {
      color: #667eea;
      text-decoration: none;
      font-weight: 600;
      padding: 8px 12px;
      border-radius: 4px;
      transition: all 0.3s ease;
    }

    nav a:hover {
      background: #667eea;
      color: #fff;
    }

    main {
      padding: 40px;
    }

    section {
      margin-bottom: 50px;
    }

    section h2 {
      color: #667eea;
      font-size: 2em;
      margin-bottom: 20px;
      padding-bottom: 10px;
      border-bottom: 3px solid #667eea;
    }

    .command-group {
      background: #f8f9fa;
      border-left: 5px solid #667eea;
      padding: 20px;
      margin-bottom: 20px;
      border-radius: 4px;
    }

    .command-group h3 {
      color: #764ba2;
      margin-bottom: 15px;
      font-size: 1.3em;
    }

    .command {
      background: #fff;
      border: 1px solid #e0e0e0;
      padding: 15px;
      margin-bottom: 10px;
      border-radius: 4px;
      display: grid;
      grid-template-columns: 250px 1fr;
      gap: 20px;
      align-items: start;
    }

    .command-code {
      font-family: "Courier New", monospace;
      background: #2c3e50;
      color: #ecf0f1;
      padding: 10px;
      border-radius: 4px;
      font-weight: 600;
      word-break: break-word;
      font-size: 0.95em;
      position: relative;
      display: block;
      white-space: pre;
      word-wrap: normal;
    }

    .command-description {
      color: #555;
      font-size: 0.95em;
    }

    .keyboard-shortcut {
      display: inline-block;
      background: #667eea;
      color: #fff;
      padding: 3px 8px;
      border-radius: 3px;
      font-family: "Courier New", monospace;
      font-weight: 600;
      margin: 2px;
      font-size: 0.9em;
    }

    .tip {
      background: #e8f4f8;
      border-left: 4px solid #0288d1;
      padding: 15px;
      margin: 20px 0;
      border-radius: 4px;
    }

    .tip strong {
      color: #0288d1;
    }

    .code-block-wrapper {
      position: relative;
      margin: 20px 0;
    }

    .config-example {
      background: #2c3e50;
      color: #ecf0f1;
      padding: 20px;
      border-radius: 4px;
      font-family: "Courier New", monospace;
      font-size: 0.9em;
      overflow-x: auto;
      white-space: pre;
      word-wrap: normal;
      line-height: 1.5;
    }

    .copy-button {
      position: absolute;
      top: 10px;
      right: 10px;
      background: #667eea;
      color: #fff;
      border: none;
      padding: 8px 12px;
      border-radius: 4px;
      cursor: pointer;
      font-size: 0.85em;
      font-weight: 600;
      transition: all 0.3s ease;
      z-index: 10;
    }

    .copy-button:hover {
      background: #764ba2;
      transform: translateY(-2px);
    }

    .copy-button.copied {
      background: #4caf50;
    }

    .two-column {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 20px;
      margin-top: 20px;
    }

    @media (max-width: 768px) {
      .two-column {
        grid-template-columns: 1fr;
      }

      .command {
        grid-template-columns: 1fr;
      }

      header h1 {
        font-size: 2em;
      }

      nav ul {
        flex-direction: column;
        align-items: center;
      }

      main {
        padding: 20px;
      }
    }

    footer {
      background: #f8f9fa;
      padding: 20px;
      text-align: center;
      color: #666;
      border-top: 1px solid #e0e0e0;
      font-size: 0.9em;
    }

    .highlight {
      background: #fffacd;
      padding: 2px 4px;
      border-radius: 2px;
      font-weight: 600;
    }
  </style>
</head>
<body>
  <div class="container">
    <header>
      <h1>tmux Linux Cheat Sheet</h1>
      <p>The Ultimate Guide to Terminal Multiplexing on Linux</p>
    </header>

    <nav>
      <ul>
        <li><a href="#sessions">Sessions</a></li>
        <li><a href="#windows">Windows</a></li>
        <li><a href="#panes">Panes</a></li>
        <li><a href="#navigation">Navigation</a></li>
        <li><a href="#copy-paste">Copy &amp; Paste</a></li>
        <li><a href="#configuration">Configuration</a></li>
      </ul>
    </nav>

    <main>
      <!-- Sessions Section -->
      <section id="sessions">
        <h2>Sessions</h2>
        <p>Sessions are persistent workspaces that can be detached and reattached.</p>

        <div class="command-group">
          <h3>Creating and Managing Sessions</h3>
          <div class="command">
            <div class="command-code">tmux new-session -s name</div>
            <div class="command-description">Create a new named session</div>
          </div>
          <div class="command">
            <div class="command-code">tmux new -s name -d</div>
            <div class="command-description">Create a detached session (runs in background)</div>
          </div>
          <div class="command">
            <div class="command-code">tmux list-sessions</div>
            <div class="command-description">List all active sessions</div>
          </div>
          <div class="command">
            <div class="command-code">tmux attach -t name</div>
            <div class="command-description">Attach to an existing session</div>
          </div>
          <div class="command">
            <div class="command-code">tmux kill-session -t name</div>
            <div class="command-description">Terminate a session</div>
          </div>
          <div class="command">
            <div class="command-code">tmux rename-session -t old new</div>
            <div class="command-description">Rename a session</div>
          </div>
        </div>

        <div class="command-group">
          <h3>Session Keyboard Shortcuts</h3>
          <p style="margin-bottom: 15px;">Press <span class="keyboard-shortcut">Ctrl+b</span> followed by:</p>
          <div class="command">
            <div class="command-code">$</div>
            <div class="command-description">Rename current session</div>
          </div>
          <div class="command">
            <div class="command-code">d</div>
            <div class="command-description">Detach from current session</div>
          </div>
          <div class="command">
            <div class="command-code">s</div>
            <div class="command-description">List and select sessions interactively</div>
          </div>
          <div class="command">
            <div class="command-code">L</div>
            <div class="command-description">Switch to last active session</div>
          </div>
        </div>
      </section>

      <!-- Windows Section -->
      <section id="windows">
        <h2>Windows</h2>
        <p>Windows are tabs within a session. Each window contains panes.</p>

        <div class="command-group">
          <h3>Creating and Managing Windows</h3>
          <div class="command">
            <div class="command-code">tmux new-window -t session</div>
            <div class="command-description">Create a new window in a session</div>
          </div>
          <div class="command">
            <div class="command-code">tmux new-window -t session -n name</div>
            <div class="command-description">Create a named window</div>
          </div>
          <div class="command">
            <div class="command-code">tmux kill-window -t session:index</div>
            <div class="command-description">Close a specific window</div>
          </div>
          <div class="command">
            <div class="command-code">tmux list-windows -t session</div>
            <div class="command-description">List all windows in a session</div>
          </div>
          <div class="command">
            <div class="command-code">tmux rename-window -t session:index name</div>
            <div class="command-description">Rename a window</div>
          </div>
        </div>

        <div class="command-group">
          <h3>Window Keyboard Shortcuts</h3>
          <p style="margin-bottom: 15px;">Press <span class="keyboard-shortcut">Ctrl+b</span> followed by:</p>
          <div class="command">
            <div class="command-code">c</div>
            <div class="command-description">Create a new window</div>
          </div>
          <div class="command">
            <div class="command-code">n</div>
            <div class="command-description">Move to next window</div>
          </div>
          <div class="command">
            <div class="command-code">p</div>
            <div class="command-description">Move to previous window</div>
          </div>
          <div class="command">
            <div class="command-code">0-9</div>
            <div class="command-description">Select window by number</div>
          </div>
          <div class="command">
            <div class="command-code">w</div>
            <div class="command-description">List windows interactively</div>
          </div>
          <div class="command">
            <div class="command-code">,</div>
            <div class="command-description">Rename current window</div>
          </div>
          <div class="command">
            <div class="command-code">&amp;</div>
            <div class="command-description">Kill current window</div>
          </div>
          <div class="command">
            <div class="command-code">.</div>
            <div class="command-description">Move window to another session</div>
          </div>
        </div>
      </section>

      <!-- Panes Section -->
      <section id="panes">
        <h2>Panes</h2>
        <p>Panes are splits within a window, allowing multiple terminals side-by-side.</p>

        <div class="command-group">
          <h3>Creating and Managing Panes</h3>
          <div class="command">
            <div class="command-code">tmux split-window -h</div>
            <div class="command-description">Split window horizontally (left-right)</div>
          </div>
          <div class="command">
            <div class="command-code">tmux split-window -v</div>
            <div class="command-description">Split window vertically (top-bottom)</div>
          </div>
          <div class="command">
            <div class="command-code">tmux kill-pane</div>
            <div class="command-description">Close current pane</div>
          </div>
          <div class="command">
            <div class="command-code">tmux list-panes</div>
            <div class="command-description">List all panes in current window</div>
          </div>
          <div class="command">
            <div class="command-code">tmux resize-pane -U 5</div>
            <div class="command-description">Resize pane up by 5 lines</div>
          </div>
        </div>

        <div class="command-group">
          <h3>Pane Keyboard Shortcuts</h3>
          <p style="margin-bottom: 15px;">Press <span class="keyboard-shortcut">Ctrl+b</span> followed by:</p>
          <div class="command">
            <div class="command-code">%</div>
            <div class="command-description">Split pane horizontally</div>
          </div>
          <div class="command">
            <div class="command-code">"</div>
            <div class="command-description">Split pane vertically</div>
          </div>
          <div class="command">
            <div class="command-code">x</div>
            <div class="command-description">Close current pane</div>
          </div>
          <div class="command">
            <div class="command-code">o</div>
            <div class="command-description">Move to next pane</div>
          </div>
          <div class="command">
            <div class="command-code">;</div>
            <div class="command-description">Move to previous pane</div>
          </div>
          <div class="command">
            <div class="command-code">Arrow keys</div>
            <div class="command-description">Move between panes (after Ctrl+b)</div>
          </div>
          <div class="command">
            <div class="command-code">Space</div>
            <div class="command-description">Cycle through pane layouts</div>
          </div>
          <div class="command">
            <div class="command-code">z</div>
            <div class="command-description">Zoom/fullscreen current pane</div>
          </div>
          <div class="command">
            <div class="command-code">!</div>
            <div class="command-description">Convert pane to window</div>
          </div>
          <div class="command">
            <div class="command-code">}</div>
            <div class="command-description">Move pane right</div>
          </div>
          <div class="command">
            <div class="command-code">{</div>
            <div class="command-description">Move pane left</div>
          </div>
          <div class="command">
            <div class="command-code">Ctrl+Arrow</div>
            <div class="command-description">Resize pane</div>
          </div>
        </div>
      </section>

      <!-- Navigation Section -->
      <section id="navigation">
        <h2>Navigation</h2>
        <p>Quick navigation through tmux sessions, windows, and panes.</p>

        <div class="command-group">
          <h3>Command Mode Navigation</h3>
          <div class="command">
            <div class="command-code">tmux select-window -t session:index</div>
            <div class="command-description">Select a specific window by index</div>
          </div>
          <div class="command">
            <div class="command-code">tmux select-pane -t session:window.pane</div>
            <div class="command-description">Select a specific pane</div>
          </div>
          <div class="command">
            <div class="command-code">tmux send-keys -t target "command" Enter</div>
            <div class="command-description">Send command to specific pane</div>
          </div>
        </div>

        <div class="command-group">
          <h3>Navigation Keyboard Shortcuts</h3>
          <p style="margin-bottom: 15px;">Press <span class="keyboard-shortcut">Ctrl+b</span> followed by:</p>
          <div class="command">
            <div class="command-code">f</div>
            <div class="command-description">Find window by name</div>
          </div>
          <div class="command">
            <div class="command-code">t</div>
            <div class="command-description">Display large clock in current pane</div>
          </div>
          <div class="command">
            <div class="command-code">q</div>
            <div class="command-description">Display pane numbers</div>
          </div>
          <div class="command">
            <div class="command-code">m</div>
            <div class="command-description">Mark current pane (with mark enabled in config)</div>
          </div>
          <div class="command">
            <div class="command-code">M</div>
            <div class="command-description">Clear marked pane</div>
          </div>
        </div>

        <div class="tip">
          <strong>Tip:</strong> Use <span class="keyboard-shortcut">Ctrl+b</span> followed by <span class="keyboard-shortcut">?</span> to display all available keybindings in the current tmux session.
        </div>
      </section>

      <!-- Copy and Paste Section -->
      <section id="copy-paste">
        <h2>Copy &amp; Paste</h2>
        <p>Copy and paste text within tmux buffers and system clipboard.</p>

        <div class="command-group">
          <h3>Copy Mode</h3>
          <div class="command">
            <div class="command-code">Ctrl+b [</div>
            <div class="command-description">Enter copy mode to select and copy text</div>
          </div>
          <div class="command">
            <div class="command-code">Space</div>
            <div class="command-description">Start selection (in copy mode)</div>
          </div>
          <div class="command">
            <div class="command-code">Enter</div>
            <div class="command-description">Copy selected text (in copy mode)</div>
          </div>
          <div class="command">
            <div class="command-code">q</div>
            <div class="command-description">Exit copy mode without copying</div>
          </div>
        </div>

        <div class="command-group">
          <h3>Paste and Buffer Management</h3>
          <div class="command">
            <div class="command-code">Ctrl+b ]</div>
            <div class="command-description">Paste buffer content to current pane</div>
          </div>
          <div class="command">
            <div class="command-code">tmux list-buffers</div>
            <div class="command-description">Show all paste buffers</div>
          </div>
          <div class="command">
            <div class="command-code">tmux show-buffer -b index</div>
            <div class="command-description">Display buffer contents</div>
          </div>
          <div class="command">
            <div class="command-code">tmux delete-buffer -b index</div>
            <div class="command-description">Delete a specific buffer</div>
          </div>
          <div class="command">
            <div class="command-code">tmux save-buffer -b index file.txt</div>
            <div class="command-description">Save buffer to file</div>
          </div>
        </div>

        <div class="tip">
          <strong>Tip:</strong> Copy mode supports searching with <span class="keyboard-shortcut">/</span> (forward) and <span class="keyboard-shortcut">?</span> (backward). Use <span class="keyboard-shortcut">n</span> and <span class="keyboard-shortcut">N</span> to navigate search results.
        </div>
      </section>

      <!-- Configuration Section -->
      <section id="configuration">
        <h2>Configuration</h2>
        <p>Customize tmux with configuration files and commands.</p>

        <div class="command-group">
          <h3>Configuration Files</h3>
          <div class="command">
            <div class="command-code">~/.tmux.conf</div>
            <div class="command-description">User configuration file (created manually)</div>
          </div>
          <div class="command">
            <div class="command-code">/etc/tmux.conf</div>
            <div class="command-description">System-wide configuration (optional)</div>
          </div>
          <div class="command">
            <div class="command-code">tmux source-file ~/.tmux.conf</div>
            <div class="command-description">Reload configuration without restarting</div>
          </div>
          <div class="command">
            <div class="command-code">Ctrl+b :</div>
            <div class="command-description">Enter command mode for live settings</div>
          </div>
        </div>

        <div class="command-group">
          <h3>Useful Configuration Settings</h3>

          <div class="config-example">
# Change prefix from Ctrl+b to Ctrl+a
unbind C-b
set -g prefix C-a
bind C-a send-prefix

# Use 256 colors
set -g default-terminal "screen-256color"

# Enable mouse support
set -g mouse on

# Set window and pane numbering to start at 1
set -g base-index 1
setw -g pane-base-index 1

# Automatically renumber windows
set -g renumber-windows on

# Enable vi key bindings
setw -g mode-keys vi
set -g status-keys vi

# Increase scrollback buffer size
set -g history-limit 10000

# Reduce escape time for faster key sequences
set -g escape-time 10

# Status bar configuration
set -g status-bg black
set -g status-fg white
set -g status-left "#[fg=green][#S]"
set -g status-right "#[fg=yellow]%H:%M %d-%b-%y"

# Window status
setw -g window-status-format "#I:#W"
setw -g window-status-current-format "#I:#W#F"

# Pane border colors
set -g pane-border-style fg=grey
set -g pane-active-border-style fg=green

# Activity monitoring
setw -g monitor-activity on
set -g visual-activity on

# Auto window rename
setw -g automatic-rename on
          </div>

          <h3 style="margin-top: 30px; color: #764ba2; margin-bottom: 15px;">Custom Keybindings Examples</h3>

          <div class="config-example">
# Easier splits with - and |
bind - split-window -v
bind | split-window -h

# Vim-like pane navigation
bind h select-pane -L
bind j select-pane -D
bind k select-pane -U
bind l select-pane -R

# Resize panes with arrow keys (with Ctrl+b)
bind -r Left resize-pane -L 5
bind -r Right resize-pane -R 5
bind -r Down resize-pane -D 5
bind -r Up resize-pane -U 5

# Copy mode with vi bindings
bind -T copy-mode-vi 'v' send -X begin-selection
bind -T copy-mode-vi 'y' send -X copy-selection-and-cancel

# Reload config quickly
bind r source-file ~/.tmux.conf; display "Config reloaded!"
          </div>
        </div>

        <div class="command-group">
          <h3>Common Configuration Commands</h3>
          <div class="command">
            <div class="command-code">set -g option value</div>
            <div class="command-description">Set global option</div>
          </div>
          <div class="command">
            <div class="command-code">setw -g option value</div>
            <div class="command-description">Set window option</div>
          </div>
          <div class="command">
            <div class="command-code">bind key command</div>
            <div class="command-description">Bind keyboard shortcut to command</div>
          </div>
          <div class="command">
            <div class="command-code">unbind key</div>
            <div class="command-description">Remove keyboard binding</div>
          </div>
          <div class="command">
            <div class="command-code">bind -r key command</div>
            <div class="command-description">Bind repeatable command (hold key)</div>
          </div>
          <div class="command">
            <div class="command-code">tmux show-options -g</div>
            <div class="command-description">Display all global options</div>
          </div>
        </div>

        <div class="tip">
          <strong>Tip:</strong> Popular tmux configuration frameworks like <span class="highlight">TPM</span> (Tmux Plugin Manager) allow you to extend functionality with plugins. Install with: <br/><code style="background: #f0f0f0; padding: 2px 4px;">git clone https://github.com/tmux-plugins/tpm ~/.tmux/plugins/tpm</code>
        </div>
      </section>

      <!-- Quick Reference Section -->
      <section>
        <h2>Quick Reference: Most Used Commands</h2>
        <div class="two-column">
          <div class="command-group">
            <h3>Essential Commands</h3>
            <div class="command">
              <div class="command-code">Ctrl+b c</div>
              <div class="command-description">New window</div>
            </div>
            <div class="command">
              <div class="command-code">Ctrl+b n</div>
              <div class="command-description">Next window</div>
            </div>
            <div class="command">
              <div class="command-code">Ctrl+b p</div>
              <div class="command-description">Previous window</div>
            </div>
            <div class="command">
              <div class="command-code">Ctrl+b %</div>
              <div class="command-description">Split horizontal</div>
            </div>
            <div class="command">
              <div class="command-code">Ctrl+b "</div>
              <div class="command-description">Split vertical</div>
            </div>
            <div class="command">
              <div class="command-code">Ctrl+b o</div>
              <div class="command-description">Next pane</div>
            </div>
            <div class="command">
              <div class="command-code">Ctrl+b d</div>
              <div class="command-description">Detach session</div>
            </div>
            <div class="command">
              <div class="command-code">Ctrl+b [</div>
              <div class="command-description">Enter copy mode</div>
            </div>
          </div>

          <div class="command-group">
            <h3>Advanced Commands</h3>
            <div class="command">
              <div class="command-code">Ctrl+b s</div>
              <div class="command-description">Select session</div>
            </div>
            <div class="command">
              <div class="command-code">Ctrl+b w</div>
              <div class="command-description">Select window</div>
            </div>
            <div class="command">
              <div class="command-code">Ctrl+b z</div>
              <div class="command-description">Zoom pane</div>
            </div>
            <div class="command">
              <div class="command-code">Ctrl+b !</div>
              <div class="command-description">Break pane</div>
            </div>
            <div class="command">
              <div class="command-code">Ctrl+b q</div>
              <div class="command-description">Show pane numbers</div>
            </div>
            <div class="command">
              <div class="command-code">Ctrl+b :</div>
              <div class="command-description">Command mode</div>
            </div>
            <div class="command">
              <div class="command-code">Ctrl+b ?</div>
              <div class="command-description">List keybindings</div>
            </div>
            <div class="command">
              <div class="command-code">Ctrl+b ,</div>
              <div class="command-description">Rename window</div>
            </div>
          </div>
        </div>
      </section>

      <!-- Tips Section -->
      <section>
        <h2>Tips &amp; Tricks</h2>

        <div class="tip">
          <strong>Linux Clipboard Integration:</strong> To integrate with Linux clipboard managers like Xclip, add to your <code style="background: #f0f0f0; padding: 2px 4px;">~/.tmux.conf</code>: <code style="background: #f0f0f0; padding: 2px 4px;">bind -T copy-mode-vi y send-keys -X copy-pipe-and-cancel 'xclip -in -selection clipboard'</code>
        </div>

        <div class="tip">
          <strong>Nested Sessions:</strong> If you're using tmux inside a tmux session, press <span class="keyboard-shortcut">Ctrl+b</span> twice to send commands to the inner session.
        </div>

        <div class="tip">
          <strong>Synchronize Panes:</strong> Send commands to multiple panes simultaneously with <span class="keyboard-shortcut">Ctrl+b</span> then <span class="keyboard-shortcut">:</span> and type <code style="background: #f0f0f0; padding: 2px 4px;">setw synchronize-panes on</code>
        </div>

        <div class="tip">
          <strong>Session Recovery:</strong> Even if you accidentally close your terminal, your tmux sessions persist. Reconnect with <code style="background: #f0f0f0; padding: 2px 4px;">tmux attach</code>
        </div>

        <div class="tip">
          <strong>Sending Commands Remotely:</strong> Use <code style="background: #f0f0f0; padding: 2px 4px;">tmux send-keys -t session:window.pane "command" Enter</code> to execute commands in specific panes from the command line.
        </div>

        <div class="tip">
          <strong>Monitor for Activity:</strong> Enable window activity alerts with <code style="background: #f0f0f0; padding: 2px 4px;">setw monitor-activity on</code> in your config to be notified when panes have output.
        </div>

        <div class="tip">
          <strong>Logging Session:</strong> Capture pane output with <span class="keyboard-shortcut">Ctrl+b</span> then <span class="keyboard-shortcut">:</span> and type <code style="background: #f0f0f0; padding: 2px 4px;">capture-pane -p -S -30 -E -1 > session.log</code>
        </div>
      </section>
    </main>

    <footer>
      <p>&copy; 2024 tmux Linux Cheat Sheet. Updated December 2024.</p>
      <p>For more information, visit the <a href="https://github.com/tmux/tmux" style="color: #667eea; text-decoration: none;">tmux GitHub repository</a> or run <code style="background: #f0f0f0; padding: 2px 4px;">man tmux</code> in your Linux terminal.</p>
    </footer>
  </div>

  <script>
    document.addEventListener('DOMContentLoaded', function() {
      // Add copy buttons to all code blocks
      const codeBlocks = document.querySelectorAll('.config-example, .command-code');
      
      codeBlocks.forEach(function(block, index) {
        // Skip if already has a copy button
        if (block.parentElement.querySelector('.copy-button')) {
          return;
        }
        
        // For config-example blocks, ensure wrapper exists
        if (block.classList.contains('config-example')) {
          const wrapper = block.parentElement;
          if (!wrapper.classList.contains('code-block-wrapper')) {
            const newWrapper = document.createElement('div');
            newWrapper.className = 'code-block-wrapper';
            block.parentNode.insertBefore(newWrapper, block);
            newWrapper.appendChild(block);
          }
        }
        
        // Create and add copy button
        const copyButton = document.createElement('button');
        copyButton.className = 'copy-button';
        copyButton.textContent = 'Copy';
        copyButton.setAttribute('aria-label', 'Copy code to clipboard');
        
        // For command-code, insert before the element
        if (block.classList.contains('command-code')) {
          block.style.paddingTop = '35px';
          block.parentNode.insertBefore(copyButton, block);
          copyButton.style.position = 'absolute';
          copyButton.style.top = '5px';
          copyButton.style.right = '5px';
          block.parentElement.style.position = 'relative';
        } else {
          // For config-example, insert in parent wrapper
          block.parentElement.insertBefore(copyButton, block);
        }
        
        // Add click handler
        copyButton.addEventListener('click', function(e) {
          e.preventDefault();
          const text = block.textContent;
          navigator.clipboard.writeText(text).then(function() {
            const originalText = copyButton.textContent;
            copyButton.textContent = 'Copied!';
            copyButton.classList.add('copied');
            
            setTimeout(function() {
              copyButton.textContent = originalText;
              copyButton.classList.remove('copied');
            }, 2000);
          }).catch(function(err) {
            console.error('Failed to copy:', err);
            copyButton.textContent = 'Copy failed';
          });
        });
      });
    });
  </script>
</body>
</html>
